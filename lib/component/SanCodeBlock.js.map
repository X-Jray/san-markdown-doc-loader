{"version":3,"sources":["component/SanCodeBlock.js"],"names":["SanCodeBlock","expanded","codeElement","el","querySelector","highlightBlock","e","console","log","data","get","set","Component","template","computed","sourceStyle","_content","unescape","replace"],"mappings":"AAAA;;;;;AAKA;;;;;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;IAEqBA,Y;;;;;;;;;;;;;AAEjB;mCAyCW;AACP,mBAAO;AACHC,0BAAU;AADP,aAAP;AAGH;AAvBD;;;;mCAyBW;;AAEP,gBAAIC,cAAc,KAAKC,EAAL,CAAQC,aAAR,CAAsB,KAAtB,CAAlB;;AAEA,gBAAI,CAACF,WAAL,EAAkB;AACd;AACH;;AAED,gBAAI;AACA,oCAAUG,cAAV,CAAyBH,WAAzB;AACH,aAFD,CAGA,OAAOI,CAAP,EAAU;AACNC,wBAAQC,GAAR,CAAYF,CAAZ;AACH;AAEJ;;;uCAEc;AACX,gBAAIL,WAAW,KAAKQ,IAAL,CAAUC,GAAV,CAAc,UAAd,CAAf;AACA,iBAAKD,IAAL,CAAUE,GAAV,CAAc,UAAd,EAA0B,CAACV,QAA3B;AACH;;;;EArEqC,cAAIW,S;;AAAzBZ,Y,CAGVa,Q;AAHUb,Y,CA0BVc,Q,GAAW;AACdC,eADc,yBACA;AACV,YAAId,WAAW,KAAKQ,IAAL,CAAUC,GAAV,CAAc,UAAd,CAAf;AACA,eAAO;AACH,0BAAcT,WAAW,MAAX,GAAoB,GAD/B;AAEH,wBAAY;AAFT,SAAP;AAIH,KAPa;;AAQd;AACAe,YATc,sBASH;AACP,eAAO,iBAAEC,QAAF,CAAW,KAAKR,IAAL,CAAUC,GAAV,CAAc,SAAd,CAAX,EACFQ,OADE,CACM,SADN,EACiB,GADjB,EAEFA,OAFE,CAEM,SAFN,EAEiB,GAFjB,CAAP;AAGH;AACD;;AAdc,C;kBA1BDlB,Y","file":"SanCodeBlock.js","sourcesContent":["/**\n * @file SanCodeBlock\n * @author leon <ludafa@outlook.com>\n */\n\n'use strict';\n\nimport san from 'san';\nimport highlight from 'highlight.js';\nimport 'highlight.js/styles/github.css';\nimport _ from 'lodash';\nimport './SanCodeBlock.css';\n\nexport default class SanCodeBlock extends san.Component {\n\n    /* eslint-disable max-len */\n    static template = `\n        <section class=\"san-markdown-loader-code-block\">\n            <h4\n                class=\"san-markdown-loader-code-block-title\"\n                on-click=\"toggleSource\">\n                <label>{{title}}</label>\n                <svg viewBox=\"0 0 24 24\" style=\"display: inline-block; color: rgba(0, 0, 0, 0.87); fill: currentcolor; height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\"><path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"></path></svg>\n            </h4>\n            <p\n                san-if=\"!!description\"\n                class=\"san-markdown-loader-code-block-description\">\n                {{description}}\n            </p>\n            <div class=\"san-markdown-loader-code-block-source\" style=\"{{sourceStyle}}\">\n                <pre><code class=\"html\">{{_content}}</code></pre>\n            </div>\n            <div class=\"san-markdown-loader-code-block-box\">\n                <slot />\n            </div>\n        </section>\n    `;\n    /* eslint-enable max-len */\n\n    static computed = {\n        sourceStyle() {\n            let expanded = this.data.get('expanded');\n            return {\n                'max-height': expanded ? 'auto' : '0',\n                'overflow': 'hidden'\n            };\n        },\n        /* eslint-disable fecs-camelcase */\n        _content() {\n            return _.unescape(this.data.get('content'))\n                .replace(/&#x7B;/g, '{')\n                .replace(/&#x7D;/g, '}');\n        }\n        /* eslint-enable fecs-camelcase */\n    };\n\n    initData() {\n        return {\n            expanded: false\n        };\n    }\n\n    attached() {\n\n        let codeElement = this.el.querySelector('pre');\n\n        if (!codeElement) {\n            return;\n        }\n\n        try {\n            highlight.highlightBlock(codeElement);\n        }\n        catch (e) {\n            console.log(e);\n        }\n\n    }\n\n    toggleSource() {\n        let expanded = this.data.get('expanded');\n        this.data.set('expanded', !expanded);\n    }\n\n}\n"]}