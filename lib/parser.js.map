{"version":3,"sources":["parser.js"],"names":["require","Parser","DomHandler","parse","code","Promise","resolve","reject","parseHandler","error","dom","normalizeWhitespace","parser","lowerCaseAttributeNames","recognizeSelfClosing","write","end","module","exports"],"mappings":";;AAAA;;;;;AAKA;;eAE6BA,QAAQ,aAAR,C;IAAtBC,M,YAAAA,M;IAAQC,U,YAAAA,U;;AAEf,SAASC,KAAT,CAAeC,IAAf,EAAqB;AACjB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAEpC,YAAIC,eAAe,IAAIN,UAAJ,CAAe,UAAUO,KAAV,EAAiBC,GAAjB,EAAsB;;AAEpD,gBAAID,KAAJ,EAAW;AACPF,uBAAOE,KAAP;AACA;AACH;;AAEDH,oBAAQI,GAAR;AAEH,SATkB,EAShB;AACCC,iCAAqB;AADtB,SATgB,CAAnB;;AAaA,YAAIC,SAAS,IAAIX,MAAJ,CACTO,YADS,EAET;AACI;AACAK,qCAAyB,KAF7B;AAGI;AACAC,kCAAsB;AAJ1B,SAFS,CAAb;;AAUAF,eAAOG,KAAP,CAAaX,IAAb;AACAQ,eAAOI,GAAP;AAEH,KA5BM,CAAP;AA6BH;;AAEDC,OAAOC,OAAP,GAAiB;AACbf;AADa,CAAjB","file":"parser.js","sourcesContent":["/**\n * @file parser\n * @author leon <ludafa@outlook.com>\n */\n\n/* eslint-disable fecs-no-require, fecs-prefer-destructure */\n\nconst {Parser, DomHandler} = require('htmlparser2');\n\nfunction parse(code) {\n    return new Promise((resolve, reject) => {\n\n        let parseHandler = new DomHandler(function (error, dom) {\n\n            if (error) {\n                reject(error);\n                return;\n            }\n\n            resolve(dom);\n\n        }, {\n            normalizeWhitespace: false\n        });\n\n        let parser = new Parser(\n            parseHandler,\n            {\n                // 保留属性名的大小写\n                lowerCaseAttributeNames: false,\n                // 打开自定义标签的自闭合\n                recognizeSelfClosing: true\n            }\n        );\n\n        parser.write(code);\n        parser.end();\n\n    });\n}\n\nmodule.exports = {\n    parse\n};\n"]}