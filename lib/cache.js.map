{"version":3,"sources":["cache.js"],"names":["path","require","mkdirp","fs","root","join","__dirname","createCacheRootDir","sync","exports","getCacheFilePath","resourcePath","basename","cacheFilePath","save","filePath","content","writeFileSync"],"mappings":";;AAAA;;;;;AAKA;;AAEA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,SAASD,QAAQ,QAAR,CAAf;AACA,IAAME,KAAKF,QAAQ,IAAR,CAAX;;AAEA,IAAMG,OAAOJ,KAAKK,IAAL,CAAUC,SAAV,EAAqB,WAArB,CAAb;;AAEA,SAASC,kBAAT,GAA8B;AAC1BL,WAAOM,IAAP,CAAYJ,IAAZ;AACH;;AAEDK,QAAQC,gBAAR,GAA2B,UAAUC,YAAV,EAAwB;AAC/C,QAAIC,WAAWZ,KAAKY,QAAL,CAAcD,YAAd,CAAf;AACA,QAAIE,gBAAgBb,KAAKK,IAAL,CAAUD,IAAV,EAAmBQ,QAAnB,UAApB;AACA,WAAOC,aAAP;AACH,CAJD;;AAMAJ,QAAQK,IAAR,GAAe,UAAUC,QAAV,EAAoBC,OAApB,EAA6B;AACxCT;AACAJ,OAAGc,aAAH,CAAiBF,QAAjB,EAA2BC,OAA3B,EAAoC,MAApC;AACH,CAHD","file":"cache.js","sourcesContent":["/**\n * @file cache\n * @author leon <ludafa@outlook.com>\n */\n\n/* eslint-disable fecs-no-require */\n\nconst path = require('path');\nconst mkdirp = require('mkdirp');\nconst fs = require('fs');\n\nconst root = path.join(__dirname, '../.cache');\n\nfunction createCacheRootDir() {\n    mkdirp.sync(root);\n}\n\nexports.getCacheFilePath = function (resourcePath) {\n    let basename = path.basename(resourcePath);\n    let cacheFilePath = path.join(root, `${basename}.san`);\n    return cacheFilePath;\n};\n\nexports.save = function (filePath, content) {\n    createCacheRootDir();\n    fs.writeFileSync(filePath, content, 'utf8');\n};\n"]}